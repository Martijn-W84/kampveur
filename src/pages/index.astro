---
import { getCollection } from 'astro:content';
import Header from '../components/Header.astro';
const posts = await getCollection('blog');
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Astro</title>
	</head>
	<body>
		<Header></Header>
		<div class="content-container">
			{
				posts.map((post) => {
					 return (
							<a class="card" href={`/${post.slug}`}>
								<img src={post.data.share.image} class="image" />
								<div class="text">
									<h1>{post.data.title}</h1>
									<h2>{post.data.artist}</h2>					
								</div>
							</a>												
					  );
				})
			}
		</div>
		<div class="footer-container"></div>		
	</body>

	<style>
		html {
			height: 100%;			
		}
		
		body{
			margin: 0px;
			padding: 0px;
			background-image: linear-gradient( 135deg, #FEB692 10%, #EA5455 100%);
			height: 100%;
		}

		.header-container {			
			vertical-align: middle;
			padding-left: 1.5rem;
			padding-top: 1rem;
			padding-bottom: 1rem;
			font-weight: 500;
			font-size: 32pt;
			color: rgb(255, 255, 255);
		}

		.content-container {
			padding-top: 2rem;
			padding-bottom: 2rem;			
			display: flex;
			flex-direction: column;
			gap: 20px;
			max-width: 900px;	
			margin: auto;		
		}

		.footer-container {
			
		}

		.card {			
			display: flex;
			flex-flow: row wrap;
			justify-content: center;
			box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 12px;
			transition-duration: 300ms;
			overflow: hidden;
			border-radius: 1rem;
			text-decoration: none;									
		}

		.card:hover {
			box-shadow: rgba(0, 0, 0, 0.16) 0px 10px 36px 0px, rgba(0, 0, 0, 0.06) 0px 0px 0px 1px;
			border-radius: 1.5rem;
		}

		.card:hover .text {
			border-bottom: 0.25rem solid rgb(182, 201, 13);
		}

		.image {			
			max-height: 150px;
			min-width: 150px;
			object-fit: contain;			
		}

		.text {
			background-color: #fdfdfdd8;
			min-width: 300px;			
			flex-grow: 3;
			padding-left: 2rem;
			border-bottom: 0.25rem solid rgb(156, 9, 112);
			box-sizing: border-box;
			transition-duration: 500ms;			
		}

		h1 {
			font-weight: 900;
			color: black;
		}

		h2 {
			font-weight: 500;
			color: black;
		}
	</style>
</html>
